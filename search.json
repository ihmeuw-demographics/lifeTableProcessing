[{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/build_lifetable.html","id":"loading-data","dir":"Articles","previous_headings":"","what":"Loading data","title":"Building a Life Table","text":"begin loading data single location-year. example, use USA males 2000 5-year age groups HMD, initially collapsed lower open age interval show effects extension later also load regression parameters created HMD life tables can create initial set life table parameters higher ages iterate","code":"lt_id_cols <- c(\"hmd_loc_id\", \"year\", \"source_type\", \"sex\") id_cols <- c(lt_id_cols, \"age_start\", \"age_end\")  open_age <- 110  lt <- collapse_open_age(   lifeTableProcessing::hmd_vr_pop_usa_males_2000,    open_age = 70 ) coef_qx_diff <- lifeTableProcessing::hmd_extension_qx_diff coef_ax_mx <- lifeTableProcessing::hmd_extension_ax_mx coef_ax_qx <- lifeTableProcessing::hmd_extension_ax_qx"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/build_lifetable.html","id":"inital-life-table","dir":"Articles","previous_headings":"","what":"Inital Life Table","title":"Building a Life Table","text":"deaths population, can create initial life table using naive assumptions \\(a_x\\): can achieve better estimates \\(a_x\\) recalculating \\(a_x\\) \\(d_x\\), recalculating \\(d_x\\), iterating agreement reached:","code":"lt[, mx := deaths / population]  lt[, ax := (age_end - age_start) / 2] demCore::gen_u5_ax_from_mx(lt, id_cols) #> Rows with age not 0-1 or 1-4 will not be assigned ax values. lt[is.infinite(age_end), ax := demCore::mx_to_ax(mx, age_end - age_start)]  lt[, qx := demCore::mx_ax_to_qx(mx, ax, age_end - age_start)] demCore::gen_lx_from_qx(lt, id_cols) demCore::gen_dx_from_lx(lt, id_cols) lt_ax_prep <- demCore::iterate_ax(lt, id_cols) #> Iteration 1 #> Number of remaining life tables: 1 #> Min. | 1st Qu. | Median | Mean | 3rd Qu. | Max.  #>  1.51 | 1.51 | 1.51 | 1.51 | 1.51 | 1.51 #> Iteration 2 #> Number of remaining life tables: 1 #> Min. | 1st Qu. | Median | Mean | 3rd Qu. | Max.  #>  0.06 | 0.06 | 0.06 | 0.06 | 0.06 | 0.06 #> Iteration 3 #> Number of remaining life tables: 0 #> Iterations done"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/build_lifetable.html","id":"extending-the-life-table","dir":"Articles","previous_headings":"","what":"Extending the Life Table","title":"Building a Life Table","text":"Now focus extending life table desired open age. begin creating initial set \\(q_x\\) values ages input desired open age using regression parameters based difference logit-transformed \\(q_x\\) values","code":"lt_extended <- extend_qx_diff(   lt_ax_prep[!is.infinite(age_end), c(..id_cols, \"mx\", \"ax\", \"qx\")],   coef_qx_diff,   lt_id_cols ) #> Warning in min(age_start): no non-missing arguments to min; returning Inf  #> Warning in min(age_start): no non-missing arguments to min; returning Inf  lt_extended[   is.na(mx) & age_start >= 5,   mx := demCore::qx_ax_to_mx(qx, ax, age_end - age_start) ]  demCore::gen_lx_from_qx(lt_extended, id_cols) demCore::gen_dx_from_lx(lt_extended, id_cols, assert_na = FALSE) lt_extended[is.na(dx), dx := lx * qx]"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/build_lifetable.html","id":"iterate-to-an-optimal-extension","dir":"Articles","previous_headings":"","what":"Iterate to an optimal extension","title":"Building a Life Table","text":"initial projection \\(q_x\\), can now iteratively solve ideal extension calculating life expectancy extended ages comparing life expectancy original open age interval","code":"lt_extended[   lt_ax_prep[is.infinite(age_end)],   `:=`(     terminal_age_start = i.age_start,     mx_term = i.mx   ),   on = lt_id_cols ]  lt_extended[, age_length := age_end - age_start] lt_extended[, age_end := NULL] setnames(lt_extended, \"age_start\", \"age\") setnames(coef_ax_qx, \"age_start\", \"age\")  iteration_results <- iterate_qx(   dt = lt_extended,   ax_params = coef_ax_qx[, -\"age_end\"],   id_vars = c(lt_id_cols, \"age\"),   n_iterations = 50 ) #> [1] \"All column names present\" #> [1] \"All column names present\" #> [1] \"Variable beta passed gte test\"  lt_iterated <- copy(iteration_results[[1]]) iteration_info <- copy(iteration_results[[2]])  setnames(lt_iterated, \"age\", \"age_start\") lt_iterated[, age_end := shift(age_start, n = 1, type = \"lead\")] lt_iterated[age_start == max(age_start), age_end := open_age] setcolorder(lt_iterated, id_cols)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/build_lifetable.html","id":"add-new-open-age-interval","dir":"Articles","previous_headings":"","what":"Add New Open Age Interval","title":"Building a Life Table","text":"Finally, remains calculate life table parameters new open age interval","code":"lt_final <- rbind(   lt_iterated,   lt_iterated[1, ..lt_id_cols][, `:=`(age_start = open_age, age_end = Inf, qx = 1)],   fill = TRUE )  demCore::gen_lx_from_qx(lt_final, id_cols) demCore::gen_dx_from_lx(lt_final, id_cols)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/hmd_regression_params.html","id":"preparing-the-data","dir":"Articles","previous_headings":"","what":"Preparing the Data","title":"Extending Life Tables with HMD Regression Parameters","text":"First, must load HMD life table data can subset life tables want include analysis, dropping location-years used inform others Finally, create computed variable use different regressions","code":"id_vars <- c(\"hmd_loc_id\", \"year\", \"sex\")  hmd_lts <- read_parquet(   fs::path(cfg$dir_proj, \"data/prepped/hmd_lifetables_5x1.parquet\"),   col_select = c(all_of(id_vars), \"age_start\", \"age_end\", \"mx\", \"ax\", \"qx\") ) hmd_lts <- hmd_lts[   year >= 1950 &     !(hmd_loc_id == \"TWN\" & year < 1980) &     !(hmd_loc_id == \"EST\" & year > 2000) &     !(hmd_loc_id %in% c(\"UKR\", \"BLR\", \"BGR\") & year < 1970) &     !(hmd_loc_id %in% c(\"LVA\", \"LTV\") & year %between% c(1958, 1970)) &     !(hmd_loc_id == \"IRL\" & year %between% c(1949, 1986)) &     !(hmd_loc_id == \"PRT\" & year %between% c(1939, 1971)) &     !(hmd_loc_id == \"RUS\" & year %between% c(1958, 1970)) &     !(hmd_loc_id == \"SVK\" & year %between% c(1949, 1962)) &     !(hmd_loc_id == \"ESP\" & year %between% c(1907, 1961)) ] hmd_lts[, mx_sq := mx^2] hmd_lts[, qx_sq := qx^2]  hmd_lts[, qx_logit := demUtils::logit(qx)]  hmd_lts[   j = `:=`(     qx_logit_diff_to = qx_logit - shift(qx_logit, type = \"lag\"),     qx_logit_diff_from = shift(qx_logit, type = \"lead\") - qx_logit   ),   by = id_vars ]"},{"path":[]},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/hmd_regression_params.html","id":"extend-q_x-using-logit-differences","dir":"Articles","previous_headings":"Regressions","what":"Extend \\(q_x\\) Using Logit Differences","title":"Extending Life Tables with HMD Regression Parameters","text":"First get \\(\\text{logit}(q_x)\\) differences prior next age group age groups starting 65 100:","code":"model_formula <- qx_logit_diff_from ~ qx_logit_diff_to + (1 | hmd_loc_id)  hmd_extension_qx_diff <- hmd_lts[   age_start %between% c(65, 100) &     !is.na(qx_logit_diff_to) &      !is.na(qx_logit_diff_from),   j = .(fit = list(lme4::lmer(formula = model_formula, data = .SD))),   by = .(sex, age_start, age_end) ]  hmd_extension_qx_diff[, `:=`(   intercept = unlist(lapply(fit, \\(f) fixef(f)[[\"(Intercept)\"]])),   slope = unlist(lapply(fit, \\(f) fixef(f)[[\"qx_logit_diff_to\"]])),   fit = NULL )]"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/hmd_regression_params.html","id":"extend-a_x-using-m_x","dir":"Articles","previous_headings":"Regressions","what":"Extend \\(a_x\\) using \\(m_x\\)","title":"Extending Life Tables with HMD Regression Parameters","text":"fit model: \\[ a_x \\sim 1 + m_x + (m_x)^2 \\] age groups starting 65 105:","code":"hmd_extension_ax_mx <- hmd_lts[   age_start %between% c(65, 105),   j = .(fit = list(lm(ax ~ mx + mx_sq, data = .SD))),   by = .(sex, age_start, age_end) ]  hmd_extension_ax_mx[, `:=`(   par_con = unlist(lapply(fit, \\(f) coef(f)[[\"(Intercept)\"]])),   par_mx = unlist(lapply(fit, \\(f) coef(f)[[\"mx\"]])),   par_smx = unlist(lapply(fit, \\(f) coef(f)[[\"mx_sq\"]])),   fit = NULL )]"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/hmd_regression_params.html","id":"extend-a_x-using-q_x","dir":"Articles","previous_headings":"Regressions","what":"Extend \\(a_x\\) using \\(q_x\\)","title":"Extending Life Tables with HMD Regression Parameters","text":"fit model: \\[ a_x \\sim 1 + q_x + (q_x)^2 \\] age groups starting 65 105:","code":"hmd_extension_ax_qx <- hmd_lts[   age_start %between% c(65, 105),   j = .(fit = list(lm(ax ~ qx + qx_sq, data = .SD))),   by = .(sex, age_start, age_end) ]  hmd_extension_ax_qx[, `:=`(   par_con = unlist(lapply(fit, \\(f) coef(f)[[\"(Intercept)\"]])),   par_qx = unlist(lapply(fit, \\(f) coef(f)[[\"qx\"]])),   par_sqx = unlist(lapply(fit, \\(f) coef(f)[[\"qx_sq\"]])),   fit = NULL )]"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/prep_hmd.html","id":"loading-hmd-data","dir":"Articles","previous_headings":"","what":"Loading HMD Data","title":"Preparing HMD Data","text":"working HMD data statistic (meaning countries) located https://mortality.org/Data/ZippedDataFiles. need register account HMD able access data. Specifically, need: Period death counts Period population estimates Period Life tables (female male) need 5x1 data, meaning “five year age group single year time interval”. extracting data, set directories like: directory contains files location HMD. load data, run:","code":"data/raw ├── Deaths_5x1 ├── fltper_5x1 ├── mltper_5x1 └── Population5 deaths_5x1 <- prep_hmd_deaths_5x1(fs::path(cfg$dir_proj, \"data/raw/Deaths_5x1\"))  pop_5x1 <- prep_hmd_pop_5x1(fs::path(cfg$dir_proj, \"data/raw/Population5\"))  lt_5x1 <- prep_hmd_period_lt_5x1(   dir_input_male = fs::path(cfg$dir_proj, \"data/raw/mltper_5x1\"),   dir_input_female = fs::path(cfg$dir_proj, \"data/raw/fltper_5x1\") )"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/prep_hmd.html","id":"preparing-the-data","dir":"Articles","previous_headings":"","what":"Preparing the Data","title":"Preparing HMD Data","text":"order use deaths population data lifeTableProcessing, need apply additional formatting: also want include data starting 1950, exclude location-years boundary changes, exclude incomplete data. final subset data, can calculate mortality rate:","code":"dt_hmd <- merge(   deaths_5x1,   pop_5x1,   by = c(\"hmd_loc_id\", \"year\", \"sex\", \"age_start\", \"age_end\"),   all = TRUE )  dt_hmd[, data_origin := \"hmd_5x1\"] dt_hmd[, source_type := \"VR\"]  setcolorder(dt_hmd, c(\"data_origin\", \"source_type\")) dt_hmd_sub <- dt_hmd[   year >= 1950 &     is.na(territory_change_status) &     !is.na(deaths) &     !is.na(population),   -c(\"territory_change_status\") ]  dt_hmd_sub[, mx := deaths / population]"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/articles/prep_hmd.html","id":"saving-the-results","dir":"Articles","previous_headings":"","what":"Saving the results","title":"Preparing HMD Data","text":"Prepared data can saved whatever way convenient, examples package assume deaths population data saved Arrow Dataset.","code":"arrow::write_dataset(   dataset = dt_hmd_sub,   path = fs::path(cfg$dir_proj, \"data/prepped/input_vr_pop\"),   format = \"parquet\",   partitioning = \"data_origin\" )  arrow::write_parquet(   lt_5x1,   fs::path(cfg$dir_proj, \"data/prepped/hmd_lifetables_5x1.parquet\") )"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Spencer Pease. Author, maintainer.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Pease S (2022). lifeTableProcessing: Functions Creating Life Tables Data. R package version 0.0.0.9000, https://ihmeuw-demographics.github.io/lifeTableProcessing/.","code":"@Manual{,   title = {lifeTableProcessing: Functions for Creating Life Tables from Data},   author = {Spencer Pease},   year = {2022},   note = {R package version 0.0.0.9000},   url = {https://ihmeuw-demographics.github.io/lifeTableProcessing/}, }"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/index.html","id":"lifetableprocessing","dir":"","previous_headings":"","what":"Functions for Creating Life Tables from Data","title":"Functions for Creating Life Tables from Data","text":"lifeTableProcessing provides suite functions useful creating life tables derived mortality (VR) population (census) data. project created part University Washington Health Metric Sciences capstone.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/check_solution.html","id":null,"dir":"Reference","previous_headings":"","what":"Check qx Optimization Solution — check_solution","title":"Check qx Optimization Solution — check_solution","text":"Create table checking different optimization solution conditions grouping data.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/check_solution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check qx Optimization Solution — check_solution","text":"","code":"check_solution(dt, solution_qx_col, by_vars)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/check_solution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check qx Optimization Solution — check_solution","text":"dt [data.table()] Collection life tables single location, columns representing betas optomized qx solution. solution_qx_col [character(1)] Column name dt containing optimized qx solution. expected one unique value group. by_vars [character()] Column names dt uniquely identifying life table.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/check_solution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check qx Optimization Solution — check_solution","text":"[data.table()] Table including by_vars columns condition checked.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/check_solution.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check qx Optimization Solution — check_solution","text":"conditions checked : solution qx >= qx preceding age group? solution qx < 1? implied terminal qx < 1?","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/collapse_open_age.html","id":null,"dir":"Reference","previous_headings":"","what":"Collapse open age of life table — collapse_open_age","title":"Collapse open age of life table — collapse_open_age","text":"given open age less current open age life table, collapse deaths population counts higher age groups new open age.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/collapse_open_age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Collapse open age of life table — collapse_open_age","text":"","code":"collapse_open_age(lt, open_age, catch_lower_input = FALSE)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/collapse_open_age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Collapse open age of life table — collapse_open_age","text":"lt data.table() representing single life table (possibly) collapse. open_age New open age interval start. catch_lower_input logical() determining error thrown input life table's open age lower given open age.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/collapse_open_age.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Collapse open age of life table — collapse_open_age","text":"Life table new open age interval, original life table original open age lower given open age.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/extend_ax.html","id":null,"dir":"Reference","previous_headings":"","what":"Extend ax values for ages 75-105 using HMD regression parameters — extend_ax","title":"Extend ax values for ages 75-105 using HMD regression parameters — extend_ax","text":"Extend ax values ages 75-105 using HMD regression parameters","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/extend_ax.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extend ax values for ages 75-105 using HMD regression parameters — extend_ax","text":"","code":"extend_ax(empir_lt, hmd_ax_results)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/extend_ax.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extend ax values for ages 75-105 using HMD regression parameters — extend_ax","text":"empir_lt data.table columns: ihme_loc_id, sex, year, age_start, age_end, mx, ax hmd_ax_results data.table variables par_mx, par_smx, par_con, sex, age_start, age_end","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/extend_ax.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extend ax values for ages 75-105 using HMD regression parameters — extend_ax","text":"returns empir_lt variables, modified values ax ages 75 ","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/extend_qx_diff.html","id":null,"dir":"Reference","previous_headings":"","what":"Extend qx up to age 105 using HMD regression parameters — extend_qx_diff","title":"Extend qx up to age 105 using HMD regression parameters — extend_qx_diff","text":"$$ logit({}_{5}q_{x+5}) - logit({}_{5}q_x) = \\beta_0 + \\beta_1 * (logit({}_{5}q_x) - logit({}_{5}q{x-5})) + \\text{location}_{RE} $$","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/extend_qx_diff.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extend qx up to age 105 using HMD regression parameters — extend_qx_diff","text":"","code":"extend_qx_diff(empir_lt, hmd_qx_results, by_vars)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/extend_qx_diff.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extend qx up to age 105 using HMD regression parameters — extend_qx_diff","text":"empir_lt data.table columns: ihme_loc_id, sex, year, age (numeric), mx, ax hmd_qx_results data.table variables sex, age, slope, intercept by_vars character vector containing variable names variables uniquely identify observations (except age)","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/extend_qx_diff.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extend qx up to age 105 using HMD regression parameters — extend_qx_diff","text":"returns empir_lt variables, modified qx extended age 105","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/extend_qx_diff.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extend qx up to age 105 using HMD regression parameters — extend_qx_diff","text":"Recursive prediction","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/get_open_age.html","id":null,"dir":"Reference","previous_headings":"","what":"Get open age interval of a life table — get_open_age","title":"Get open age interval of a life table — get_open_age","text":"Get open age interval life table","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/get_open_age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get open age interval of a life table — get_open_age","text":"","code":"get_open_age(lt)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/get_open_age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get open age interval of a life table — get_open_age","text":"lt data.table() representing single life table.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/get_open_age.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get open age interval of a life table — get_open_age","text":"Start open age interval","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/iterate_qx.html","id":null,"dir":"Reference","previous_headings":"","what":"Iterate terminal qx — iterate_qx","title":"Iterate terminal qx — iterate_qx","text":"Iterate terminal qx & lx values minimize difference observed terminal mx","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/iterate_qx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Iterate terminal qx — iterate_qx","text":"","code":"iterate_qx(dt, ax_params, id_vars, n_iterations = 50)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/iterate_qx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Iterate terminal qx — iterate_qx","text":"dt [data.table()] Life tables variables: 'ihme_loc_id', 'year', 'source_name', 'sex', 'age', 'age_length', 'dx', 'ax', 'qx', 'terminal_age_start', 'mx_term' ax_params [data.table()] Parameters qx --> ax conversion (originally MLT process). Columns: 'age', 'sex', 'par_con', 'par_qx', 'par_sqx'. Regression equation \\(ax = par_con + par_qx * qx + par_sqx * qx^2\\). id_vars [character()] ID variables uniquely identify observation dt. Must include 'age'. n_iterations [numeric()] Number iterations run.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/iterate_qx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Iterate terminal qx — iterate_qx","text":"[data.table()] Life tables age-specific old-age qx scaled align terminal mx.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/lifeTableProcessing-package.html","id":null,"dir":"Reference","previous_headings":"","what":"lifeTableProcessing: Functions for Creating Life Tables from Data — lifeTableProcessing-package","title":"lifeTableProcessing: Functions for Creating Life Tables from Data — lifeTableProcessing-package","text":"Life tables can constructed mortality population data. package implements functions process data life tables different methods assumptions.","code":""},{"path":[]},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/lifeTableProcessing-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"lifeTableProcessing: Functions for Creating Life Tables from Data — lifeTableProcessing-package","text":"Maintainer: Spencer Pease spease@uw.edu","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/load_raw_hmd_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Load raw HMD files — load_raw_hmd_files","title":"Load raw HMD files — load_raw_hmd_files","text":"Load raw HMD files","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/load_raw_hmd_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load raw HMD files — load_raw_hmd_files","text":"","code":"load_raw_hmd_files(dir, ...)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/load_raw_hmd_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load raw HMD files — load_raw_hmd_files","text":"dir Path directory raw location-specific HMD files ... Additional parameters passed readr::read_table()","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/load_raw_hmd_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load raw HMD files — load_raw_hmd_files","text":"data.table() compiled location files dir.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/plot_lifetable.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a life table — plot_lifetable","title":"Plot a life table — plot_lifetable","text":"Create log probability death plot given life table, optionally including multiple lines indicate different input open age intervals.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/plot_lifetable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a life table — plot_lifetable","text":"","code":"plot_lifetable(lt, open_age_var = NULL)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/plot_lifetable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a life table — plot_lifetable","text":"lt Life table plot. least columns loc_id, year, sex, age_start, qx. open_age_var Optional column name indicating column input open age use color aesthetic.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/plot_lifetable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a life table — plot_lifetable","text":"plot life table.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/plot_lifetable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a life table — plot_lifetable","text":"","code":"plot_lifetable(usa_2000_processed_lt, \"input_open_age\")"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/prep_hmd.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare HMD data — prep_hmd","title":"Prepare HMD data — prep_hmd","text":"Compile \"statistic\" raw data Human Mortality database","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/prep_hmd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare HMD data — prep_hmd","text":"","code":"prep_hmd_deaths_5x1(dir_input)  prep_hmd_pop_5x1(dir_input)  prep_hmd_period_lt_5x1(dir_input_male, dir_input_female)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/prep_hmd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare HMD data — prep_hmd","text":"dir_input Path directory containing raw location-specific files sexes. dir_input_male Path directory containing raw location-specific files males. dir_input_female Path directory containing raw location-specific files females.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/prep_hmd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare HMD data — prep_hmd","text":"data.table() HMD data locations.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/prep_hmd.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare HMD data — prep_hmd","text":"Currently functions prep data 5-year age groups single year time periods : deaths: prep_hmd_deaths_5x1() population: prep_hmd_pop_5x1() life tables: prep_hmd_period_lt_5x1()","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/prep_hmd_age.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare age information from HMD data — prep_hmd_age","title":"Prepare age information from HMD data — prep_hmd_age","text":"Prepare age information HMD data","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/prep_hmd_age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare age information from HMD data — prep_hmd_age","text":"","code":"prep_hmd_age(dt, age_col)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/prep_hmd_age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare age information from HMD data — prep_hmd_age","text":"dt data.table() HMD data. age_col name column representing age","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/prep_hmd_age.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare age information from HMD data — prep_hmd_age","text":"Invisibly returns dt age_col removed place age_start age_end.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/solve_qx.html","id":null,"dir":"Reference","previous_headings":"","what":"Solve for optimal input terminal qx — solve_qx","title":"Solve for optimal input terminal qx — solve_qx","text":"Optimize input terminal qx one life table based given terminal mx age pattern.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/solve_qx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Solve for optimal input terminal qx — solve_qx","text":"","code":"solve_qx(dt, ax_params)"},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/solve_qx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Solve for optimal input terminal qx — solve_qx","text":"dt [data.table()] single life table optimize. ax_params [data.table()] Table ax regression parameters caclulating ax.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/reference/solve_qx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Solve for optimal input terminal qx — solve_qx","text":"[data.table()] copy dt new column appended qx solution.","code":""},{"path":"https://ihmeuw-demographics.github.io/lifeTableProcessing/news/index.html","id":"lifetableprocessing-0009000","dir":"Changelog","previous_headings":"","what":"lifeTableProcessing 0.0.0.9000","title":"lifeTableProcessing 0.0.0.9000","text":"Added NEWS.md file track changes package.","code":""}]
